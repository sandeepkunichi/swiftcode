@(testSession: models.test.TestSession)
<div class="panel panel-default">
    <div class="panel-heading clearfix">
        <h3 class="panel-title pull-left">Test Session Details</h3>
    </div>
    <div class="list-group">
        <div class="list-group-item">
            <h3 class="list-group-item-heading">Email</h3>
            <p class="list-group-item-text">@testSession.testTaker.email</p>
        </div>
        <div class="list-group-item">
            <h3 class="list-group-item-heading">Score</h3>
            <p class="list-group-item-text">@testSession.score</p>
        </div>
        <div class="list-group-item">
            <div class="row">
                <div class="col-md-6">
                    <h3 class="list-group-item-heading">Start</h3>
                    <p class="list-group-item-text">@testSession.startTime</p>
                </div>
                <div class="col-md-6">
                    <h3 class="list-group-item-heading">End</h3>
                    <p class="list-group-item-text">@testSession.endTime</p>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading clearfix">
        <h3 class="panel-title pull-left">Program Submissions</h3>
    </div>
    <div class="list-group">
        @for(programSubmission <- testSession.programSubmissions){
        <input type="hidden" id="language-@programSubmission.id" value="@programSubmission.languageType">
        <div class="list-group-item">
            <h3 class="list-group-item-heading">Question</h3>
            @Html(programSubmission.getProgramQuestion())
        </div>
        <div class="list-group-item">
            <div class="code" id="@programSubmission.id">@programSubmission.getProgramTextView()</div>
        </div>
        }
    </div>
</div>
<script>
    var keyMap = {"JAVA":"text/x-java", "CPP":"text/x-c++src", "C":"text/x-csrc", "PYTHON":"python"};
    $('.code').each(function() {
        var $this = $(this);
        $code = $this.text();
        var id = $this.attr("id");
        var languageKey = $("input[id='language-"+id+"']").val();
        var language = keyMap[languageKey];
        $this.empty();
        var myCodeMirror = CodeMirror(this, {
            value: $code,
            mode: language,
            theme: "dracula",
            readOnly: true
        });
    });
</script>